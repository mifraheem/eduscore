{% extends "sbase.html" %}
{% block title %}EduScore | Student Dashboard{% endblock %}
{% block header_title %}Welcome, {{ request.user.first_name }}!{% endblock %}
{% block header_subtitle %}Track your progress, upcoming quizzes, and class updates in one place{% endblock %}

{% block content %}

<!-- Top Overview Stats -->
<div class="grid grid-cols-1 sm:grid-cols-4 gap-4 mb-8">
  <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-5 text-center">
    <p class="text-sm text-gray-500">Classes Joined</p>
    <p class="text-2xl font-semibold text-blue-600 mt-1">6</p>
  </div>
  <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-5 text-center">
    <p class="text-sm text-gray-500">Quizzes Attempted</p>
    <p class="text-2xl font-semibold text-green-600 mt-1">18</p>
  </div>
  <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-5 text-center">
    <p class="text-sm text-gray-500">Average Score</p>
    <p class="text-2xl font-semibold text-yellow-600 mt-1">84%</p>
  </div>
  <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-5 text-center">
    <p class="text-sm text-gray-500">Pending Quizzes</p>
    <p class="text-2xl font-semibold text-red-600 mt-1">3</p>
  </div>
</div>

<!-- Layout: Classes + Upcoming + Results -->
<div class="grid grid-cols-1 xl:grid-cols-3 gap-6">

  <!-- Left: My Classes -->
  <div class="xl:col-span-2 space-y-6">

    <!-- Joined Classes -->
    <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-6">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold text-primary">My Classes</h2>
        <a href="#" class="text-sm text-primary hover:underline">View All</a>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div class="border rounded-xl p-4 bg-gray-50 hover:bg-gray-100 transition">
          <h3 class="font-medium">Grade 10 – Mathematics</h3>
          <p class="text-sm text-gray-500">Instructor: Mr. Ahmed</p>
          <div class="flex items-center justify-between mt-3 text-sm">
            <span class="text-gray-500">Next Quiz: Algebra</span>
            <button class="bg-primary text-white px-3 py-1 rounded-lg text-xs hover:bg-primary/90">Open</button>
          </div>
        </div>

        <div class="border rounded-xl p-4 bg-gray-50 hover:bg-gray-100 transition">
          <h3 class="font-medium">Grade 9 – Physics</h3>
          <p class="text-sm text-gray-500">Instructor: Ms. Sara</p>
          <div class="flex items-center justify-between mt-3 text-sm">
            <span class="text-gray-500">Next Quiz: Forces</span>
            <button class="bg-primary text-white px-3 py-1 rounded-lg text-xs hover:bg-primary/90">Open</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Upcoming Quizzes -->
    <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-6">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold text-primary">Upcoming Quizzes</h2>
        <a href="#" class="text-sm text-primary hover:underline">View All</a>
      </div>
      <table class="min-w-full text-sm">
        <thead>
          <tr class="text-left text-gray-500 border-b">
            <th class="py-2 px-2">Quiz Title</th>
            <th class="py-2 px-2">Class</th>
            <th class="py-2 px-2">Due Date</th>
            <th class="py-2 px-2 text-right">Action</th>
          </tr>
        </thead>
        <tbody class="divide-y">
          <tr>
            <td class="py-3 px-2 font-medium">Linear Equations</td>
            <td class="py-3 px-2 text-gray-500">Math 10-A</td>
            <td class="py-3 px-2 text-gray-600">Nov 15, 2025</td>
            <td class="py-3 px-2 text-right">
              <button class="bg-primary text-white px-3 py-1.5 rounded-xl text-xs font-medium hover:bg-primary/90">Start</button>
            </td>
          </tr>
          <tr>
            <td class="py-3 px-2 font-medium">Energy & Motion</td>
            <td class="py-3 px-2 text-gray-500">Physics 9-B</td>
            <td class="py-3 px-2 text-gray-600">Nov 18, 2025</td>
            <td class="py-3 px-2 text-right">
              <button class="bg-primary text-white px-3 py-1.5 rounded-xl text-xs font-medium hover:bg-primary/90">Start</button>
            </td>
          </tr>
          <tr>
            <td class="py-3 px-2 font-medium">Grammar Quiz 2</td>
            <td class="py-3 px-2 text-gray-500">English 8-A</td>
            <td class="py-3 px-2 text-gray-600">Nov 20, 2025</td>
            <td class="py-3 px-2 text-right">
              <button class="bg-primary text-white px-3 py-1.5 rounded-xl text-xs font-medium hover:bg-primary/90">Start</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Right: Results + Notifications -->
  <div class="space-y-6">

    <!-- Recent Results -->
    <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-6">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold text-primary">Recent Results</h2>
        <a href="#" class="text-sm text-primary hover:underline">View All</a>
      </div>
      <ul class="divide-y">
        <li class="py-3 flex justify-between items-center">
          <div>
            <p class="font-medium text-gray-800">Algebra Basics</p>
            <p class="text-xs text-gray-500">Math 10-A • 2 days ago</p>
          </div>
          <span class="text-sm font-semibold text-green-600">88%</span>
        </li>
        <li class="py-3 flex justify-between items-center">
          <div>
            <p class="font-medium text-gray-800">Forces & Motion</p>
            <p class="text-xs text-gray-500">Physics 9-B • 4 days ago</p>
          </div>
          <span class="text-sm font-semibold text-blue-600">91%</span>
        </li>
        <li class="py-3 flex justify-between items-center">
          <div>
            <p class="font-medium text-gray-800">Grammar Rules</p>
            <p class="text-xs text-gray-500">English 8-A • 6 days ago</p>
          </div>
          <span class="text-sm font-semibold text-yellow-600">79%</span>
        </li>
      </ul>
    </div>

    <!-- Notifications Summary -->
    <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-6">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-lg font-semibold text-primary">Latest Notifications</h2>
        <a href="#" class="text-sm text-primary hover:underline">View All</a>
      </div>
      <ul class="space-y-3 text-sm text-gray-700">
        <li class="flex justify-between items-start border-b pb-2">
          <span><strong>New Quiz:</strong> Linear Equations added in Mathematics</span>
          <span class="text-xs text-gray-500">2h ago</span>
        </li>
        <li class="flex justify-between items-start border-b pb-2">
          <span><strong>Result Update:</strong> Physics Quiz reviewed</span>
          <span class="text-xs text-gray-500">1d ago</span>
        </li>
        <li class="flex justify-between items-start border-b pb-2">
          <span><strong>Material Uploaded:</strong> Geometry Class Slides</span>
          <span class="text-xs text-gray-500">3d ago</span>
        </li>
      </ul>
    </div>

    <!-- Performance Snapshot -->
    <div class="bg-white border border-gray-100 rounded-2xl shadow-sm p-6">
      <h2 class="text-lg font-semibold text-primary mb-4">Performance Snapshot</h2>
      <div class="space-y-3 text-sm">
        <div class="flex justify-between">
          <span>Mathematics</span>
          <span class="font-medium text-green-600">88%</span>
        </div>
        <div class="w-full bg-gray-100 rounded-full h-2 mb-2">
          <div class="bg-green-500 h-2 rounded-full" style="width:88%;"></div>
        </div>

        <div class="flex justify-between">
          <span>Physics</span>
          <span class="font-medium text-blue-600">81%</span>
        </div>
        <div class="w-full bg-gray-100 rounded-full h-2 mb-2">
          <div class="bg-blue-500 h-2 rounded-full" style="width:81%;"></div>
        </div>

        <div class="flex justify-between">
          <span>English</span>
          <span class="font-medium text-yellow-600">79%</span>
        </div>
        <div class="w-full bg-gray-100 rounded-full h-2">
          <div class="bg-yellow-500 h-2 rounded-full" style="width:79%;"></div>
        </div>
      </div>
    </div>

  </div>
</div>

{% endblock %}
